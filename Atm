fun atm(userId: String, userPass: String, op: String, amount: Double) {

    var check = atmCheck(userId, userPass)

    if (check == true) {
                
        var check1 = userId

        check1 += userPass

        var privateKey = safe[check1] ?: 5 // Integer
        
        userBalances[privateKey] = publicBalance[userId] ?:5.0

        var balance = userBalances[privateKey] ?: 5.0

        when (op) {
            "W" -> {
                if (balance >= amount) {
                    var newBalance = balance
                    newBalance -= amount
                    publicBalance[userId]= newBalance
                    userBalances[privateKey] = newBalance
                    println("you have New Withdraw /n amount : $amount /n New balance : $balance")
                } else {
                    println("You don,t have this amount , your balance is $balance")
                    atm(userId, userPass, op, amount)
                }
            }
            "D" -> {
                var newBalance = balance
                newBalance += amount
                userBalances[privateKey] = newBalance
                publicBalance[userId]= newBalance
                println("you have New deposit /n amount: $amount /n New balance : $newBalance")
            }
        }
    }
}
